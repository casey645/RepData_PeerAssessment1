{
    "contents" : "---\ntitle: \"PA1_template.md\"\nauthor: \"Casey645\"\ndate: \"December 20, 2015\"\noutput: html_document\n---\nReproducible Research: Peer Assessment 1\nLoading and preprocessing the data\n\nunzip('activity.zip')\naccel <- read.csv('activity.csv', header=TRUE, sep = ',')\nstr(accel)\n\n## 'data.frame':    17568 obs. of  3 variables:\n##  $ steps   : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ date    : Factor w/ 61 levels \"2012-10-01\",\"2012-10-02\",..: 1 1 1 1 1 1 1 1 1 1 ...\n##  $ interval: int  0 5 10 15 20 25 30 35 40 45 ...\n\nfor(i in 1:length(accel) ) {\n  str(accel[i])\n  }\n\n## 'data.frame':    17568 obs. of  1 variable:\n##  $ steps: int  NA NA NA NA NA NA NA NA NA NA ...\n## 'data.frame':    17568 obs. of  1 variable:\n##  $ date: Factor w/ 61 levels \"2012-10-01\",\"2012-10-02\",..: 1 1 1 1 1 1 1 1 1 1 ...\n## 'data.frame':    17568 obs. of  1 variable:\n##  $ interval: int  0 5 10 15 20 25 30 35 40 45 ...\n\nWe observe that the date variable is of the type Factor, we therefore recode it as a date variable.\n\naccel$date <- as.Date( accel$date, format = '%Y-%m-%d' )\nstr(accel$date)\n\n##  Date[1:17568], format: \"2012-10-01\" \"2012-10-01\" \"2012-10-01\" \"2012-10-01\" ...\n\nWhat is mean total number of steps taken per day?\n\nWe start by loading the packages for data manipulation and plotting.\n\nlibrary(plyr)\nlibrary(ggplot2)\n\nWe now compute the data needed for the plot.\n\ntot.steps <- ddply(accel, .(date),\n                  summarize,\n                  total.steps = sum(steps)\n                  )\nhead(tot.steps)\n\n##         date total.steps\n## 1 2012-10-01          NA\n## 2 2012-10-02         126\n## 3 2012-10-03       11352\n## 4 2012-10-04       12116\n## 5 2012-10-05       13294\n## 6 2012-10-06       15420\n\nWe can now plot the data.\n\ntot.st.plot <- ggplot(tot.steps,\n                      aes(x = total.steps)\n                      )\ntot.st.plot <- tot.st.plot + geom_histogram()\nprint(tot.st.plot)\n\n## stat_bin: binwidth defaulted to range/30. Use 'binwidth = x' to adjust this.\n\nplot of chunk histogram\n\nWe now report the summary statistics, to see the mean and median.\n\nsummary(tot.steps$total.steps)\n\n##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n##      41    8840   10800   10800   13300   21200       8\n\nsummary(tot.steps$total.steps)['Mean']\n\n##  Mean \n## 10800\n\nsummary(tot.steps$total.steps)['Median']\n\n## Median \n##  10800\n\nWhat is the average daily activity pattern?\n\nCompute the data needed for the plot.\n\nav.steps <- ddply(accel, .(interval),\n                  summarize,\n                  average.steps = mean(steps, na.rm=TRUE\n                                       )\n                  )\nhead(av.steps)\n\n##   interval average.steps\n## 1        0       1.71698\n## 2        5       0.33962\n## 3       10       0.13208\n## 4       15       0.15094\n## 5       20       0.07547\n## 6       25       2.09434\n\nPlot the computed data.\n\nav.st.plot <- ggplot(av.steps,\n                     aes(interval, average.steps)\n                     )\nav.st.plot <- av.st.plot + geom_line()\nprint(av.st.plot)\n\nplot of chunk plot\n\nFind the maximum.\n\nsummary(av.steps$average.steps)\n\n##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n##    0.00    2.49   34.10   37.40   52.80  206.00\n\nsummary(av.steps$average.steps)['Max.']\n\n## Max. \n##  206\n\nImputing missing values\n\nFirst we count the rows that have NAs and the ones that do not.\n\ntable( complete.cases(accel) )\n\n## \n## FALSE  TRUE \n##  2304 15264\n\nCreate a new data frame and impute missing values using interval averages.\n\nimp.accel <- accel\nimp.accel$steps <- ifelse( is.na(imp.accel$steps),\n                     av.steps$average.steps[match(imp.accel$interval, av.steps$interval) ],\n                     imp.accel$steps )\ntable( complete.cases(accel) )\n\n## \n## FALSE  TRUE \n##  2304 15264\n\ntable( complete.cases(imp.accel) )\n\n## \n##  TRUE \n## 17568\n\ntot.imp.steps <- ddply(imp.accel, .(date),\n                  summarize,\n                  total.steps = sum(steps)\n                  )\nhead(tot.imp.steps)\n\n##         date total.steps\n## 1 2012-10-01       10766\n## 2 2012-10-02         126\n## 3 2012-10-03       11352\n## 4 2012-10-04       12116\n## 5 2012-10-05       13294\n## 6 2012-10-06       15420\n\nWe can now plot the data.\n\ntot.imp.st.plot <- ggplot(tot.imp.steps,\n                      aes(x = total.steps)\n                      )\ntot.imp.st.plot <- tot.imp.st.plot + geom_histogram()\nprint(tot.imp.st.plot)\n\n## stat_bin: binwidth defaulted to range/30. Use 'binwidth = x' to adjust this.\n\nplot of chunk imputed.histogram\n\nWe now report the summary statistics, to see the mean and median.\n\nsummary(tot.imp.steps$total.steps)\n\n##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n##      41    9820   10800   10800   12800   21200\n\nsummary(tot.imp.steps$total.steps)['Mean']\n\n##  Mean \n## 10800\n\nsummary(tot.imp.steps$total.steps)['Median']\n\n## Median \n##  10800\n\nThe results of the imputing of data seem to be that the histogram is now a closer approximation of the Gaussian distribution, the mean and median appear to remain unchanged.\nAre there differences in activity patterns between weekdays and weekends?\n\nFirst we create a day of the week variable in the accel data frame, then we create a list of weekdays and weekend days.\n\naccel$day <- weekdays(accel$date)\n\nw.day <- c('Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday')\nw.e.day <- c('Saturday', 'Sunday')\n\naccel$weekpart <- ifelse(accel$day %in% w.day, 'weekday', 'weekend')\nhead(accel)\n\n##   steps       date interval    day weekpart\n## 1    NA 2012-10-01        0 Monday  weekday\n## 2    NA 2012-10-01        5 Monday  weekday\n## 3    NA 2012-10-01       10 Monday  weekday\n## 4    NA 2012-10-01       15 Monday  weekday\n## 5    NA 2012-10-01       20 Monday  weekday\n## 6    NA 2012-10-01       25 Monday  weekday\n\ntable(accel$weekpart)\n\n## \n## weekday weekend \n##   12960    4608\n\nNow computer the data for plotting.\n\nav.w.e.steps <- ddply(accel, .(interval, weekpart),\n                  summarize,\n                  average.steps = mean(steps, na.rm=TRUE\n                                       )\n                  )\nhead(av.w.e.steps)\n\n##   interval weekpart average.steps\n## 1        0  weekday        2.3333\n## 2        0  weekend        0.0000\n## 3        5  weekday        0.4615\n## 4        5  weekend        0.0000\n## 5       10  weekday        0.1795\n## 6       10  weekend        0.0000\n\nNow plot in two facets using this factor variable.\n\nav.w.e.st.plot <- ggplot(av.w.e.steps,\n                     aes(interval, average.steps)\n                     )\nav.w.e.st.plot <- av.w.e.st.plot + geom_line()\nav.w.e.st.plot <- av.w.e.st.plot + facet_grid(weekpart ~ .)\nprint(av.w.e.st.plot)\n\nplot of chunk facet.plot \n",
    "created" : 1450655381938.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1002750735",
    "id" : "2E5107AB",
    "lastKnownWriteTime" : 1450655515,
    "path" : "~/R_Coursera Files/Reproducible Research/RepData_PeerAssessment1/PA1_template.Rmd",
    "project_path" : "PA1_template.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "type" : "r_markdown"
}