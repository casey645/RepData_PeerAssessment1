{
    "contents" : "---\ntitle: \"PA1_template.md\"\nauthor: \"Casey645\"\ndate: \"Janauary 23, 2016\"\noutput: html_document\n---\nReproducible Research: Peer Assessment 1\n==========================================================\nLoading and preprocessing the data\n\n```\nunzip('activity.zip')\naccel <- read.csv('activity.csv', header=TRUE, sep = ',')\nstr(accel)\n```\n```\n## 'data.frame':    17568 obs. of  3 variables:\n##  $ steps   : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ date    : Factor w/ 61 levels \"2012-10-01\",\"2012-10-02\",..: 1 1 1 1 1 1 1 1 1 1 ...\n##  $ interval: int  0 5 10 15 20 25 30 35 40 45 ...\n```\n\n```\nfor(i in 1:length(accel) ) {\n  str(accel[i])\n  }\n```\n```\n## 'data.frame':    17568 obs. of  1 variable:\n##  $ steps: int  NA NA NA NA NA NA NA NA NA NA ...\n## 'data.frame':    17568 obs. of  1 variable:\n##  $ date: Factor w/ 61 levels \"2012-10-01\",\"2012-10-02\",..: 1 1 1 1 1 1 1 1 1 1 ...\n## 'data.frame':    17568 obs. of  1 variable:\n##  $ interval: int  0 5 10 15 20 25 30 35 40 45 ...\n```\n\nWe observe that the date variable is of the type Factor, we therefore recode it as a date variable.\n\n```\naccel$date <- as.Date( accel$date, format = '%Y-%m-%d' )\nstr(accel$date)\n```\n\n```\n##  Date[1:17568], format: \"2012-10-01\" \"2012-10-01\" \"2012-10-01\" \"2012-10-01\" ...\n```\n\nWhat is mean total number of steps taken per day?\n======================================================================\n\nWe start by loading the packages for data manipulation and plotting.\n\n```\nlibrary(plyr)\nlibrary(ggplot2)\n```\n\nWe now compute the data needed for the plot.\n\n```\ntot.steps <- ddply(accel, .(date),\n                  summarize,\n                  total.steps = sum(steps)\n                  )\nhead(tot.steps)\n```\n\n```\n##         date total.steps\n## 1 2012-10-01          NA\n## 2 2012-10-02         126\n## 3 2012-10-03       11352\n## 4 2012-10-04       12116\n## 5 2012-10-05       13294\n## 6 2012-10-06       15420\n```\n\nWe can now plot the data.\n\n```\ntot.st.plot <- ggplot(tot.steps,\n                      aes(x = total.steps)\n                      )\ntot.st.plot <- tot.st.plot + geom_histogram()\nprint(tot.st.plot)\n```\n```\n## stat_bin: binwidth defaulted to range/30. Use 'binwidth = x' to adjust this.\n```\n```\n![plot of chunk histogram](casey645/Reproducible Research/RepData_PeerAssessment1/figure/histogram.png)\n```\n\nWe now report the summary statistics, to see the mean and median.\n\n```\nsummary(tot.steps$total.steps)\n```\n```\n##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n##      41    8840   10800   10800   13300   21200       8\n```\n```\nsummary(tot.steps$total.steps)['Mean']\n```\n```\n##  Mean \n## 10800\n```\n```\nsummary(tot.steps$total.steps)['Median']\n```\n```\n## Median \n##  10800\n```\nWhat is the average daily activity pattern?\n================================================\n\nCompute the data needed for the plot.\n\n```\nav.steps <- ddply(accel, .(interval),\n                  summarize,\n                  average.steps = mean(steps, na.rm=TRUE\n                                       )\n                  )\nhead(av.steps)\n```\n```\n##   interval average.steps\n## 1        0       1.71698\n## 2        5       0.33962\n## 3       10       0.13208\n## 4       15       0.15094\n## 5       20       0.07547\n## 6       25       2.09434\n```\n![Plot the computed data](https://casey645/RepData_PeerAssessment1/figure/plot.png)\n\n```\nav.st.plot <- ggplot(av.steps,\n                     aes(interval, average.steps)\n                     )\nav.st.plot <- av.st.plot + geom_line()\nprint(av.st.plot\n```\n```\n![Plot chunk of imputed histogram](https://casey645/RepData_PeerAssessment1/figure/imputed histogram.png)\n```\nFind the maximum\n```\nsummary(av.steps$average.steps)\n```\n```\n##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n##    0.00    2.49   34.10   37.40   52.80  206.00\n```\n```\nsummary(av.steps$average.steps)['Max.']\n```\n```\n## Max. \n##  206\n```\nImputing missing values\n==========================================================\n\nFirst we count the rows that have NAs and the ones that do not.\n\n```\ntable( complete.cases(accel) )\n```\n```\n## FALSE  TRUE \n##  2304 15264\n```\n\nCreate a new data frame and impute missing values using interval averages.\n\n```\nimp.accel <- accel\nimp.accel$steps <- ifelse( is.na(imp.accel$steps),\n                     av.steps$average.steps[match(imp.accel$interval, av.steps$interval) ],\n                     imp.accel$steps )\ntable( complete.cases(accel) )\n```\n\n```\n## FALSE  TRUE \n##  2304 15264\n```\n```\ntable( complete.cases(imp.accel) )\n```\n``` \n##  TRUE \n## 17568\n```\n\n```\ntot.imp.steps <- ddply(imp.accel, .(date),\n                  summarize,\n                  total.steps = sum(steps)\n                  )\nhead(tot.imp.steps)\n```\n```\n##         date total.steps\n## 1 2012-10-01       10766\n## 2 2012-10-02         126\n## 3 2012-10-03       11352\n## 4 2012-10-04       12116\n## 5 2012-10-05       13294\n## 6 2012-10-06       15420\n```\n\nWe can now plot the data.\n\n```\ntot.imp.st.plot <- ggplot(tot.imp.steps,\n                      aes(x = total.steps)\n                      )\ntot.imp.st.plot <- tot.imp.st.plot + geom_histogram()\nprint(tot.imp.st.plot)\n```\n```\n## stat_bin: binwidth defaulted to range/30. Use 'binwidth = x' to adjust this.\n```\n```\n<div id=\"bg\">\n  <img src=\"C:\\Users\\cwatkin\\Documents\\R_Coursera Files\\Reproducible Research\\RepData_PeerAssessment1\\figure\\imputed.histogram.png\" alt=\"\">\n</div>  \n```\n\nWe now report the summary statistics, to see the mean and median.\n\n```\nsummary(tot.imp.steps$total.steps)\n```\n```\n##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n##      41    9820   10800   10800   12800   21200\n```\n\n```\nsummary(tot.imp.steps$total.steps)['Mean']\n```\n```\n##  Mean \n## 10800\n```\n\n```\nsummary(tot.imp.steps$total.steps)['Median']\n```\n```\n## Median \n##  10800\n```\nThe results of the imputing of data seem to be that the histogram is now a closer approximation of the Gaussian distribution, the mean and median appear to remain unchanged.\n\nAre there differences in activity patterns between weekdays and weekends?\n====================================================================================\n\nFirst we create a day of the week variable in the accel data frame, then we create a list of weekdays and weekend days.\n\n```\naccel$day <- weekdays(accel$date)\n\nw.day <- c('Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday')\nw.e.day <- c('Saturday', 'Sunday')\n\naccel$weekpart <- ifelse(accel$day %in% w.day, 'weekday', 'weekend')\nhead(accel)\n```\n```\n##   steps       date interval    day weekpart\n## 1    NA 2012-10-01        0 Monday  weekday\n## 2    NA 2012-10-01        5 Monday  weekday\n## 3    NA 2012-10-01       10 Monday  weekday\n## 4    NA 2012-10-01       15 Monday  weekday\n## 5    NA 2012-10-01       20 Monday  weekday\n## 6    NA 2012-10-01       25 Monday  weekday\n```\n```\ntable(accel$weekpart)\n```\n\n```\n## \n## weekday weekend \n##   12960    4608\n```\n\nNow computer the data for plotting.\n\n```\nav.w.e.steps <- ddply(accel, .(interval, weekpart),\n                  summarize,\n                  average.steps = mean(steps, na.rm=TRUE\n                                       )\n                  )\nhead(av.w.e.steps)\n```\n```\n##   interval weekpart average.steps\n## 1        0  weekday        2.3333\n## 2        0  weekend        0.0000\n## 3        5  weekday        0.4615\n## 4        5  weekend        0.0000\n## 5       10  weekday        0.1795\n## 6       10  weekend        0.0000\n```\n\nNow plot in two facets using this factor variable.\n\n```\nav.w.e.st.plot <- ggplot(av.w.e.steps,\n                     aes(interval, average.steps)\n                     )\nav.w.e.st.plot <- av.w.e.st.plot + geom_line()\nav.w.e.st.plot <- av.w.e.st.plot + facet_grid(weekpart ~ .)\nprint(av.w.e.st.plot)\n```\n```\n![plot of chunk facet.plot](casey645/Reproducible Research/RepData_PeerAssessment1/figure/facet.plot.png)\n```\n\n\n\n",
    "created" : 1453663242523.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "737509669",
    "id" : "79380234",
    "lastKnownWriteTime" : 1453679352,
    "path" : "~/R_Coursera Files/Reproducible Research/RepData_PeerAssessment1/PA1_template.md",
    "project_path" : "PA1_template.md",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "markdown"
}